import{d as k,r as o,k as L,l as w,m as R,n as M,o as T,p as e,_ as x,y as h,z as I,L as y,c as U,w as b,u as _,I as V,a as v,t as $,v as E,i as q,s as z,x as N}from"./index-C-PTO5zq.js";import{C as O,E as B}from"./EchartsPie-BV6WmHzK.js";const F={class:"chart-container"},W=k({__name:"TechnicalChartJSLineAreaRT",props:{chartType:{type:String,default:"line"},title:{type:String,required:!0},color:{type:String,default:"#ef4444"},min:{type:Number,default:0},max:{type:Number,default:100},data:{type:Array,required:!0},kpiTarget:{type:Number,required:!0}},setup(m){const a=m,i=o(null);let s=null;function u(){if(!i.value)return;s&&s.destroy();const l=i.value.getContext("2d");l&&(s=new O(l,{type:a.chartType,data:{labels:a.data.map((n,r)=>r+1),datasets:[{label:a.title,data:a.data,borderColor:a.color,backgroundColor:a.color+"40",tension:.4,fill:!0}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,min:a.min,max:a.max}},plugins:{legend:{display:!0,position:"top",align:"end",labels:{usePointStyle:!0,pointStyle:"circle",padding:20,font:{size:12},generateLabels:function(n){return[{text:`Actual: ${a.data[a.data.length-1]}`,fillStyle:a.color,strokeStyle:a.color,lineWidth:2,hidden:!1,index:0},{text:`Objetivo: ${a.kpiTarget}`,fillStyle:"#10b981",strokeStyle:"#10b981",lineWidth:2,hidden:!1,index:1}]}}},tooltip:{callbacks:{label:function(n){const r=n.raw,d=a.kpiTarget;return[`Actual: ${r}`,`Objetivo: ${d}`]}}}}}}))}return L(()=>a.data,u,{deep:!0}),w(u),R(()=>{s&&s.destroy()}),(l,n)=>(T(),M("div",F,[e("canvas",{ref_key:"chartRef",ref:i},null,512)]))}}),S=x(W,[["__scopeId","data-v-8f207ab7"]]),j={class:"live-metrics-container"},G={class:"header"},H={class:"title"},J=k({__name:"LiveServerMetrics",props:{title:{type:String,default:"Métricas de Servidor en Tiempo Real"},maxDataPoints:{type:Number,default:60}},setup(m){const a=m,i=o(null);let s=null,u=null,l=null;const n=o([]),r=o([]),d=o([]),f=o([]),t=()=>{const p=new Date;for(let c=a.maxDataPoints;c>0;c--){const g=new Date(p.getTime()-c*1e3);f.value.push(g.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit",second:"2-digit"})),n.value.push(Math.floor(Math.random()*20)+60),r.value.push(Math.floor(Math.random()*20)+65),d.value.push(Math.floor(Math.random()*30)+20)}},C=()=>{const p=Math.floor(Math.random()*20)+60,c=Math.floor(Math.random()*20)+65,g=Math.floor(Math.random()*30)+20,A=new Date;return f.value.push(A.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit",second:"2-digit"})),f.value.shift(),n.value.push(p),n.value.shift(),r.value.push(c),r.value.shift(),d.value.push(g),d.value.shift(),{cpu:p,ram:c,requests:g}},D=()=>{s&&(C(),s.setOption({xAxis:{data:f.value},series:[{name:"CPU",data:n.value},{name:"RAM",data:r.value},{name:"Peticiones/s",data:d.value}]}))},P=()=>{if(!i.value)return;const p=()=>{if(i.value&&i.value.clientWidth>0&&i.value.clientHeight>0){s&&s.dispose(),s=I(i.value);const c={title:{show:!1},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:["CPU","RAM","Peticiones/s"],top:10,textStyle:{color:"#333"}},grid:{left:"3%",right:"4%",bottom:"3%",top:"15%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:f.value,axisLabel:{rotate:45}},yAxis:{type:"value",max:100,splitLine:{lineStyle:{color:"#eee"}}},series:[{name:"CPU",type:"line",stack:"Total",areaStyle:{color:new y(0,0,0,1,[{offset:0,color:"rgba(59, 130, 246, 0.8)"},{offset:1,color:"rgba(59, 130, 246, 0.1)"}])},emphasis:{focus:"series"},symbol:"none",smooth:!0,lineStyle:{width:2,color:"#3b82f6"},data:n.value},{name:"RAM",type:"line",stack:"Total",areaStyle:{color:new y(0,0,0,1,[{offset:0,color:"rgba(16, 185, 129, 0.8)"},{offset:1,color:"rgba(16, 185, 129, 0.1)"}])},emphasis:{focus:"series"},symbol:"none",smooth:!0,lineStyle:{width:2,color:"#10b981"},data:r.value},{name:"Peticiones/s",type:"line",stack:"Total",areaStyle:{color:new y(0,0,0,1,[{offset:0,color:"rgba(245, 158, 11, 0.8)"},{offset:1,color:"rgba(245, 158, 11, 0.1)"}])},emphasis:{focus:"series"},symbol:"none",smooth:!0,lineStyle:{width:2,color:"#f59e0b"},data:d.value,yAxisIndex:0}]};s.setOption(c),l&&l.disconnect(),l=new ResizeObserver(()=>{s&&s.resize()}),l.observe(i.value)}else requestAnimationFrame(p)};p()};return w(()=>{t(),P(),u=window.setInterval(()=>{D()},1e3)}),R(()=>{u&&clearInterval(u),l&&l.disconnect(),s&&(s.dispose(),s=null)}),(p,c)=>(T(),M("div",j,[e("div",G,[e("h3",H,h(m.title),1),c[0]||(c[0]=e("div",{class:"live-badge"},"TIEMPO REAL",-1))]),e("div",{ref_key:"chartRef",ref:i,class:"chart-container"},null,512)]))}}),Z=x(J,[["__scopeId","data-v-426b1a11"]]),K={class:"dashboard-container"},Q={class:"kpi-cards"},X={class:"kpi-card"},Y={class:"kpi-value"},ee={class:"kpi-card"},te={class:"kpi-value"},ae={class:"kpi-card"},se={class:"kpi-value"},oe={class:"kpi-card"},ie={class:"kpi-value"},le={class:"kpi-card"},ne={class:"kpi-value"},re={class:"chart-row"},ce={class:"chart-container full-width"},de={class:"chart-row"},ue={class:"chart-container large"},pe={class:"chart-container large"},ve={class:"chart-row"},fe={class:"chart-container full-width"},he=k({__name:"TechnicalPage",setup(m){const a=o(68),i=o(280),s=o(1.7),u=o(99.95),l=o(48.5),n=o([68,70,72,75,78,80,82,85,88,90,92,95]),r=o([45,48,50,52,55,58,60,62,65,68,70,72]),d=o([{name:"Logrado",value:75,itemStyle:{color:"#10b981"}},{name:"Fallado",value:25,itemStyle:{color:"#ef4444"}}]);return o([{label:"CPU",value:68,target:60},{label:"Memoria",value:75,target:70},{label:"Disco",value:60,target:65},{label:"Red",value:90,target:85}]),o({"Rutina en casa":[30,50,70,20],"Rutina en gimnasio":[50,50,20,60],"Rutina al aire libre":[30,60,50,40]}),(f,t)=>(T(),U(_(V),null,{default:b(()=>[v(_(z),{class:"ion-no-border"},{default:b(()=>[v(_($),{class:"dashboard-header"},{default:b(()=>[v(_(E),null,{default:b(()=>t[0]||(t[0]=[q("Dashboard Técnico")])),_:1,__:[0]})]),_:1})]),_:1}),v(_(N),{fullscreen:!0,class:"dashboard-content"},{default:b(()=>[e("div",K,[e("div",Q,[e("div",X,[e("div",Y,h(a.value)+"%",1),t[1]||(t[1]=e("div",{class:"kpi-title"},"Uso de CPU",-1)),t[2]||(t[2]=e("div",{class:"kpi-trend down"},"-5%",-1))]),e("div",ee,[e("div",te,h(i.value)+"ms",1),t[3]||(t[3]=e("div",{class:"kpi-title"},"Tiempo de Respuesta",-1)),t[4]||(t[4]=e("div",{class:"kpi-trend up"},"-7%",-1))]),e("div",ae,[e("div",se,h(s.value)+"%",1),t[5]||(t[5]=e("div",{class:"kpi-title"},"Tasa de Fallos",-1)),t[6]||(t[6]=e("div",{class:"kpi-trend up"},"-5%",-1))]),e("div",oe,[e("div",ie,h(u.value)+"%",1),t[7]||(t[7]=e("div",{class:"kpi-title"},"Disponibilidad",-1)),t[8]||(t[8]=e("div",{class:"kpi-trend up"},"+0.02%",-1))]),e("div",le,[e("div",ne,h(l.value)+"MB",1),t[9]||(t[9]=e("div",{class:"kpi-title"},"Tamaño de la App",-1)),t[10]||(t[10]=e("div",{class:"kpi-trend up"},"-3%",-1))])]),e("div",re,[e("div",ce,[v(Z,{title:"Métricas del Servidor en Tiempo Real",maxDataPoints:60})])]),e("div",de,[e("div",ue,[v(S,{chartType:"line",title:"Uso de CPU en Tiempo Real",color:"#ef4444",min:0,max:100,data:n.value,kpiTarget:70},null,8,["data"])]),e("div",pe,[v(S,{chartType:"line",title:"Uso de Memoria en Tiempo Real",color:"#f59e0b",min:0,max:100,data:r.value,kpiTarget:65},null,8,["data"])])]),e("div",ve,[e("div",fe,[v(B,{title:"Distribución de Errores por Tipo",data:d.value},null,8,["data"])])])])]),_:1})]),_:1}))}}),_e=x(he,[["__scopeId","data-v-fbbc3558"]]);export{_e as default};
